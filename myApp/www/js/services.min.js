angular.module("twitterApp.services",[]).factory("twitterService",function(e){var t=!1;return{initialize:function(){OAuth.initialize("19gVB-kbrzsJWQs5o7Ha2LIeX4I",{cache:!0}),t=OAuth.create("twitter")},isReady:function(){return t},connectTwitter:function(){var n=e.defer();return OAuth.popup("twitter",{cache:!0},function(e,i){e||(t=i,n.resolve())}),n.promise},clearCache:function(){OAuth.clearCache("twitter"),t=!1},getLatestTweets:function(t){var n=e.defer(),i="/1.1/statuses/home_timeline.json";t&&(i+="?max_id="+t);OAuth.get(i).done(function(e){n.resolve(e)}).fail(function(e){n.reject(e)});return n.promise},postTweets:function(t){var i=(e.defer(),t);if(i.length>140)alert("Tweet should be less than 140 Chars");else{var r="http://twitter.com/home?status="+encodeURIComponent(i);window.open(r,"_blank")}}}});